<div class="container-fluid p-4">
  <div class="d-flex justify-content-between align-items-center mb-2">
    <!-- <h1 class="dashboard-title">Review Container</h1> -->
    <button routerLink="/upload" class="btn unselect-btn px-3 py-2 "><i
        class="fa-solid fa-chevron-left"></i>Back</button>
  </div>
  <div class="accordion" id="containerAccordion">

    @for (item of containersList; track item) {
    <div class="accordion-item">
      <h2 class="accordion-header" id="heading-{{item.id}}">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#' + item.id"
          aria-expanded="true" [attr.aria-controls]="item.id">
          {{ item.id }}
        </button>
      </h2>

      <div [id]="item.id" class="accordion-collapse" [attr.aria-labelledby]="'heading-' + item.id">

        <div class="accordion-body">

          <div class="row g-3">
            @for (file of item.files; track file) {
            <div class="col-md-6 col-lg-6">
              <div class="file-card">
                <div class="file-left">
                  <div class="file-icon pdf" [class]="file.fileType">
                    <i class="fa-solid fa-file-pdf"></i>
                  </div>
                  <div class="file-info">
                    <h6 class="file-name">{{file.name}}</h6>
                    <small class="file-meta">{{file.type}} • {{file.size}}</small>
                  </div>
                </div>
                <div class="file-actions">
                  <button class="icon-btn view" (click)="openFileModal()">
                    <i class="fas fa-eye"></i>
                  </button>
                  <button class="icon-btn delete">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </div>
              </div>
            </div>
            }

            <div class="d-flex justify-content-end">
              <button class="select-btn">Save</button>
            </div>

          </div>

        </div>
      </div>
    </div>
    }

  </div>
  <!-- map -->
  <div class="mapping-panel mt-4">
    <!-- <h6 class="mapping-title">Map File Between Containers</h6> -->

    <div class="row g-3 align-items-end">
      <div class="col-md-3">
        <!-- <label for="Document">Document</label> -->
        <div class="mapping-box file-box">
         
         
            <div class="col-md-12 col-lg-12">
              <div class="file-card">
                <div class="file-left">
                  <div class="file-icon pdf bol">
                    <i class="fa-solid fa-file-pdf"></i>
                  </div>
                  <div class="file-info">
                    <h6 class="file-name">Testdoc.pdf</h6>
                    <!-- <small class="file-meta">{{file.type}} • {{file.size}}</small> -->
                  </div>
                </div>
                <div class="file-actions">
                  <button class="icon-btn view" (click)="openFileModal()">
                    <i class="fas fa-eye"></i>
                  </button>
                  <!-- <button class="icon-btn delete">
                    <i class="fa-solid fa-trash"></i>
                  </button> -->
                </div>
              </div>
            </div>
        </div>
      </div>
      <div class="col-md-3">
        <label class="form-label">Reference Number</label>
        <select class="form-select mapping-input">
          <option selected disabled>Select Ref</option>
          <option>PO-25-078096</option>
          <option>EMCU5480050</option>
          <option>25XG968</option>
          <option>PO-25-082067</option>
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Container ID</label>
        <select class="form-select mapping-input">
          <option selected disabled>Select ID</option>
          <option>CON126677551</option>
          <option>CON126677556</option>
          <option>CON126677555</option>
          <option>CON126676657</option>
        </select>
      </div>


      <div class="col-md-3">
        <label class="form-label">Document Type</label>
        <select class="form-select mapping-input">
          <option selected disabled>Select Type</option>
          <option>BOL</option>
          <option>Invoice</option>
          <option>Packing List</option>
          <option>Phytosanitary Certificate</option>
        </select>
      </div>
      <!-- Map Button -->

    </div>
    <div class="mt-2 d-flex justify-content-end">
      <button class="select-btn ">
        Save
      </button>
    </div>
  </div>

</div>


<!-- popup -->
<div class="modal fade" id="filePreviewModal" tabindex="-1" aria-labelledby="filePreviewLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered model-width">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="filePreviewLabel">
          <i class="fas fa-file-alt me-2"></i> File Preview
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <div class="file-preview-area">
          <p class="m-0 p-0"><strong>File Name:</strong> BOL.pdf</p>
          <p class="m-0 p-0"><strong>Size:</strong> 2.3 MB</p>

          <hr>

          <div class="preview-box preview-pdf">
            <iframe src="../../assets/dummy-pdf_2.pdf" title="PDF Preview" frameborder="0">
            </iframe>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>